<div *ngIf="loading" class="text-center">
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<div *ngIf="!loading && errorMessage" class="text-danger">
    <p>{{ errorMessage }}</p>
</div>

<h2 class="text-center">Book Library</h2>

<div *ngIf="!loading && !errorMessage" class="container mt-3 mb-5">

    <table class="table table-hover table-bordered">
        <thead class="table-dark">
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Author</th>
                <th scope="col">Genre</th>
                <th scope="col">Year</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let book of books">
                <td>{{ book.title }}</td>
                <td>{{ book.authorName }}</td>
                <td>{{ book.genreName }}</td>
                <td>{{ book.publicationYear }}</td>
            </tr>
        </tbody>
    </table>

    <div class="mt-3 d-flex justify-content-end">
        <!-- Download as Text button -->
        <button class="btn btn-light ms-2" (click)="downloadText()" title="Download as Text">
            <i class="bi bi-file-earmark-text"></i>
        </button>

        <!-- Download as PDF button -->
        <button class="btn btn-light ms-2" (click)="downloadPDF()" title="Download as PDF">
            <i class="bi bi-file-earmark-pdf"></i>
        </button>

        <!-- Download as Excel button -->
        <button class="btn btn-light ms-2" (click)="downloadExcel()" title="Download as Excel">
            <i class="bi bi-file-earmark-spreadsheet"></i>
        </button>
    </div>
</div>